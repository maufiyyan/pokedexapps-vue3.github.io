(globalThis["webpackChunkpokedex_app"]=globalThis["webpackChunkpokedex_app"]||[]).push([[8],{8168:(e,t,a)=>{"use strict";a.d(t,{Z:()=>_});var o=a(9835),l=a(6970),n=a(929),r=a.n(n);const s={class:"text-h6"};function i(e,t,a,n,i,c){const d=(0,o.up)("q-img"),u=(0,o.up)("router-link"),p=(0,o.up)("q-card-section"),m=(0,o.up)("q-btn"),g=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{to:"/"+a.payload.name},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"p-15",src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/"+a.payload.url.slice(0,-1).split("/").pop()+".png","placeholder-src":r(),ratio:1,width:"100%"},null,8,["src"])])),_:1},8,["to"]),(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o._)("div",s,(0,l.zw)(n.format.capitalize(a.payload.name.split("-").join(" "))),1)])),_:1}),(0,o.Wm)(m,{onClick:t[0]||(t[0]=t=>n.addFavorite(e.isFavorite)),color:"primary"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.isFavorite?"Remove from Favorite":"Add to Favorite"),1)])),_:1})])),_:1})}var c=a(499),d=a(321),u=a(9302);const p={name:"PokeCard",props:["payload"],setup(e,t){const a=(0,u.Z)(),l=(0,o.Fl)({get:()=>{const t=JSON.parse(a.localStorage.getItem("favorite")),o=t.findIndex((t=>t.name===e.payload.name));return-1!==o}}),n=(0,c.qj)({isFavorite:!1});n.isFavorite=l.value;const r=t=>{const o=JSON.parse(a.localStorage.getItem("favorite"));if(t){const t=o.findIndex((t=>t.name===e.payload.name));o.splice(t,1),a.localStorage.set("favorite",JSON.stringify(o)),n.isFavorite=!1}else o.push(e.payload),a.localStorage.set("favorite",JSON.stringify(o)),n.isFavorite=!0};return{format:d.ZP,addFavorite:r,...(0,c.BK)(n)}}};var m=a(1639),g=a(4458),f=a(335),v=a(3190),w=a(4455),y=a(9984),h=a.n(y);const k=(0,m.Z)(p,[["render",i],["__scopeId","data-v-365454a8"]]),_=k;h()(p,"components",{QCard:g.Z,QImg:f.Z,QCardSection:v.Z,QBtn:w.Z})},2008:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>T});var o=a(9835),l=a(744),n=a.n(l);const r=e=>((0,o.dD)("data-v-3d6e1e88"),e=e(),(0,o.Cn)(),e),s={class:"row"},i={class:"col-6 offset-3 text-center"},c=r((()=>(0,o._)("p",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.",-1))),d={class:"content"},u={class:"row"},p={class:"col"},m={key:0,class:"row"},g=r((()=>(0,o._)("div",{id:"bottomPage"},null,-1))),f={key:1,class:"row"};function v(e,t,a,l,r,v){const w=(0,o.up)("q-img"),y=(0,o.up)("q-select"),h=(0,o.up)("poke-card"),k=(0,o.up)("loading-card"),_=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(_,null,{default:(0,o.w5)((()=>[(0,o._)("div",s,[(0,o._)("div",i,[(0,o.Wm)(w,{class:"logo",width:"228px",src:n()}),c])]),(0,o._)("div",d,[(0,o._)("div",u,[(0,o._)("div",p,[(0,o.Wm)(y,{outlined:"",modelValue:e.selected,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selected=t),options:e.filter,label:"Filter by Type"},null,8,["modelValue","options"])])]),e.loading?((0,o.wg)(),(0,o.iD)("div",f,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(24,(e=>(0,o._)("div",{key:e,class:"col-md-2 col-sm-4 col-xs-6 poke-card"},[(0,o.Wm)(k)]))),64))])):((0,o.wg)(),(0,o.iD)("div",m,[null!==e.list?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.list,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.name,class:"col-md-2 col-sm-4 col-xs-6 poke-card"},[(0,o.Wm)(h,{payload:e},null,8,["payload"])])))),128)),g],64)):(0,o.kq)("",!0)]))])])),_:1})}var w=a(499),y=a(9302),h=a(1569),k=a(8168);function _(e,t,a,l,n,r){const s=(0,o.up)("q-skeleton"),i=(0,o.up)("q-item-label"),c=(0,o.up)("q-card-section"),d=(0,o.up)("q-card-actions"),u=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,{height:"210px",width:"100%",square:""}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,{type:"text"})])),_:1}),(0,o.Wm)(i,{caption:""},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{type:"text"})])),_:1})])),_:1}),(0,o.Wm)(d,{align:"center",class:"q-gutter-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{type:"QBtn"})])),_:1})])),_:1})}const b={name:"LoadingCard",setup(){return{}}};var Z=a(1639),q=a(4458),F=a(7133),x=a(3190),W=a(3115),S=a(1821),C=a(9984),I=a.n(C);const Q=(0,Z.Z)(b,[["render",_]]),P=Q;I()(b,"components",{QCard:q.Z,QSkeleton:F.ZP,QCardSection:x.Z,QItemLabel:W.Z,QCardActions:S.Z});const L={name:"IndexPage",components:{PokeCard:k.Z,LoadingCard:P},setup(){const e=(0,y.Z)();null===e.localStorage.getItem("favorite")&&e.localStorage.set("favorite","[]");const t=(0,w.qj)({loading:!0,start:0,list:[],filter:[],selected:null,canLoadMore:!1,debounce:null,urlFrom:"raw",url:"/pokemon"}),a=async e=>{const t=[];return await e.map((e=>{t.push({name:e.pokemon.name,url:e.pokemon.url})})),t},l=e=>{const t=e.getBoundingClientRect();return t.bottom<=(window.innerHeight||document.documentElement.clientHeight)},n=(e,o)=>{h.api.get(e).then((async e=>{if(200===e.status){if(console.log(e),"raw"===o)t.list=t.list.concat(e.data.results),t.canLoadMore=e.data.count>t.list.length,t.start=t.canLoadMore?t.start+30:t.start;else{const o=await a(e.data.pokemon);t.list=t.list.concat(o)}t.loading=!1}})).catch((e=>{console.log(e)}))},r=()=>{h.api.get("/type").then((e=>{200===e.status&&e.data.results.map((e=>{t.filter.push({label:e.name,value:e.url})}))})).catch((e=>{console.log(e)}))},s=()=>{window.onscroll=()=>{let e=document.querySelector("#bottomPage");if(null===e)return!1;l(e)&&t.canLoadMore&&"raw"===t.urlFrom&&(clearTimeout(t.debounce),t.debounce=setTimeout((()=>{n(t.url+"?offset="+t.start+"&limit=30",t.urlFrom)}),500))}};return r(),n(t.url+"?offset="+t.start+"&limit=30",t.urlFrom),(0,o.YP)((()=>t.selected),(e=>{t.loading=!0,t.list=[],t.start=0,t.urlFrom="filtered",t.url="/type/"+e.value.slice(0,-1).split("/").pop(),n(t.url+"?offset=0&limit=30",t.urlFrom)})),(0,o.bv)((()=>{s()})),{...(0,w.BK)(t)}}};var D=a(9885),j=a(335),B=a(770);const H=(0,Z.Z)(L,[["render",v],["__scopeId","data-v-3d6e1e88"]]),T=H;I()(L,"components",{QPage:D.Z,QImg:j.Z,QSelect:B.Z})},744:(e,t,a)=>{e.exports=a.p+"img/logo.d89fa19b.png"},929:(e,t,a)=>{e.exports=a.p+"img/placeholder.a835fb9b.png"}}]);